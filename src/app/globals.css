/*
 * ============================================
 *   EIC - Emotionally Intelligent Companions Design System v1.0 (Production Optimized, August 2025)
 *
 *   üéØ –§–ò–õ–û–°–û–§–ò–Ø: "Warmth over Perfection" - –¢–µ–ø–ª–æ—Ç–∞ –≤–∞–∂–Ω–µ–µ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–∞
 *   üß† AI-–ø–µ—Ä–≤—ã–π –¥–∏–∑–∞–π–Ω –¥–ª—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–∞–Ω—å–æ–Ω–æ–≤
 *   üåà –ù–∞—É—á–Ω–æ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è
 *   ‚ôø WCAG 3.0 AAA+ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (7:1+ –∫–æ–Ω—Ç—Ä–∞—Å—Ç)
 *   ‚ö° –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è Next.js 15.3.2 + React 19.1.0 + TypeScript 5.8.3
 *   üé® –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Tailwind CSS 4.1
 *   üîÆ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CSS Container Queries, @layer, Content Visibility API
 *   üí´ GPU-—É—Å–∫–æ—Ä–µ–Ω–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å performance hints
 *   üåç –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ color-scheme –∏ prefers-*
 *   üì± Mobile-first —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ blur —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
 *   üé≠ Progressive Emotional Disclosure —Å–∏—Å—Ç–µ–º–∞
 *   üíé Advanced Glass Morphism —Å –Ω–∞—É—á–Ω–æ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
 *   üöÄ PRODUCTION OPTIMIZED: Fixed CSS Layers + Performance + Browser Support
 *   
 * ============================================
 */

/* === TAILWIND CSS 4.1 INTEGRATION === */
@layer base, components, utilities;
@import "tailwindcss";

/* === LAYER: BASE (–ò–°–ü–†–ê–í–õ–ï–ù–û - Design Tokens —Ç–µ–ø–µ—Ä—å –≤ base) === */
@layer base {
  /* === DESIGN TOKENS (–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–æ–∫–µ–Ω–æ–≤ v1.0) === */
  :root {
    /* === –û–°–ù–û–í–ù–ê–Ø –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–ê–Ø –ü–ê–õ–ò–¢–†–ê === */
    /* –ù–∞—É—á–Ω–æ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è –¥–ª—è AI-–∫–æ–º–ø–∞–Ω—å–æ–Ω–æ–≤ */
    --primary-color: #6247ea;         /* –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π –∏–∑ –ª–µ–Ω–¥–∏–Ω–≥–∞ */
    --secondary-color: #2b2938;       /* –¢–µ–º–Ω–æ-—Å–µ—Ä—ã–π —Ñ–æ–Ω */
    --accent-color: #1e1c26;          /* –ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ç–µ–º–Ω—ã–π */
    --background-color: #121118;      /* –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω */
    
    /* === –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–ê–Ø –ü–ê–õ–ò–¢–†–ê === */
    --primary-warmth: #ff6b6b;        /* –¢–µ–ø–ª–æ—Ç–∞, –ª—é–±–æ–≤—å, –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å */
    --primary-trust: #4ecdc4;         /* –î–æ–≤–µ—Ä–∏–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å */
    --primary-wisdom: #95a5a6;        /* –ú—É–¥—Ä–æ—Å—Ç—å, –ø–æ–Ω–∏–º–∞–Ω–∏–µ, –∑—Ä–µ–ª–æ—Å—Ç—å */
    --primary-mystery: #9b59b6;       /* –ò–Ω—Ç–∏–º–Ω–æ—Å—Ç—å, –≥–ª—É–±–∏–Ω–∞, –∑–∞–≥–∞–¥–æ—á–Ω–æ—Å—Ç—å */
    --primary-joy: #f39c12;           /* –†–∞–¥–æ—Å—Ç—å, –∏–≥—Ä–∏–≤–æ—Å—Ç—å, —ç–Ω–µ—Ä–≥–∏—è */
    --primary-calm: #3498db;          /* –°–ø–æ–∫–æ–π—Å—Ç–≤–∏–µ, –±–∞–ª–∞–Ω—Å, –≥–∞—Ä–º–æ–Ω–∏—è */

    /* === –£–ü–†–û–©–ï–ù–ù–´–ï –ë–†–ï–ù–î–û–í–´–ï –¶–í–ï–¢–ê (–£–±—Ä–∞–Ω–∞ –∏–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å) === */
    --brand-primary: var(--primary-color);
    --brand-surface: rgba(98, 71, 234, 0.1);
    --brand-border: rgba(98, 71, 234, 0.2);
    --brand-glow: rgba(98, 71, 234, 0.7);
    
    /* === –ö–û–ù–¢–†–ê–°–¢–ù–´–ï –ü–ê–†–´ (WCAG AAA+ 7:1+) === */
    --primary-color-contrast: #ffffff;
    --secondary-color-contrast: #ffffff;
    --accent-color-contrast: #ffffff;
    --background-color-contrast: #ffffff;
    
    --primary-warmth-contrast: #ffffff;
    --primary-trust-contrast: #0f172a;
    --primary-wisdom-contrast: #ffffff;
    --primary-mystery-contrast: #ffffff;
    --primary-joy-contrast: #0f172a;
    --primary-calm-contrast: #ffffff;

    /* === –†–ê–°–®–ò–†–ï–ù–ù–ê–Ø –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–ê–Ø –ü–ê–õ–ò–¢–†–ê === */
    --emotion-curiosity: #f59e0b;     --emotion-curiosity-contrast: #0f172a;
    --emotion-empathy: #a855f7;       --emotion-empathy-contrast: #ffffff;
    --emotion-excitement: #ef4444;    --emotion-excitement-contrast: #ffffff;
    --emotion-melancholy: #64748b;    --emotion-melancholy-contrast: #ffffff;
    --emotion-love: #f87171;          --emotion-love-contrast: #ffffff;
    --emotion-serenity: #06b6d4;      --emotion-serenity-contrast: #ffffff;

    /* === –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ì–†–ê–î–ò–ï–ù–¢–´ === */
    --gradient-emotional: linear-gradient(135deg, var(--primary-warmth), var(--primary-mystery));
    --gradient-trust: linear-gradient(135deg, var(--primary-trust), var(--primary-calm));
    --gradient-wisdom: linear-gradient(135deg, var(--primary-wisdom), var(--primary-mystery));
    --gradient-brand: linear-gradient(135deg, var(--brand-primary), var(--primary-mystery));
    --gradient-hero: linear-gradient(135deg, 
      var(--brand-primary) 0%, 
      var(--primary-mystery) 35%, 
      var(--primary-trust) 70%, 
      var(--primary-calm) 100%);
    --gradient-love: linear-gradient(135deg, var(--primary-warmth), #f87171);
    --gradient-excitement: linear-gradient(135deg, var(--primary-joy), var(--primary-warmth));

    /* === –¢–ï–ú–ù–ê–Ø –¢–ï–ú–ê –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ === */
    --bg-primary: var(--background-color);       /* #121118 */
    --bg-secondary: var(--secondary-color);      /* #2b2938 */
    --bg-tertiary: var(--accent-color);          /* #1e1c26 */
    --bg-surface: rgba(255, 255, 255, 0.05);    /* –°—Ç–µ–∫–ª—è–Ω–Ω—ã–µ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ */
    --bg-surface-strong: rgba(255, 255, 255, 0.1);
    --bg-muted: #1e1e20;

    /* === –¢–ï–ö–°–¢–û–í–ê–Ø –ò–ï–†–ê–†–•–ò–Ø === */
    --text-primary: #ffffff;                          /* –û—Å–Ω–æ–≤–Ω–æ–π –±–µ–ª—ã–π */
    --text-secondary: #a29db8;                        /* –ü—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–π */
    --text-tertiary: rgba(255, 255, 255, 0.6);       /* –¢–æ–Ω–∫–∏–π –±–µ–ª—ã–π */
    --text-accent: var(--brand-primary);              /* –ë—Ä–µ–Ω–¥–æ–≤—ã–π –∞–∫—Ü–µ–Ω—Ç */
    --text-muted: #9ca3af;

    /* === –ì–†–ê–ù–ò–¶–´ –ò –õ–ò–ù–ò–ò === */
    --border-primary: rgba(255, 255, 255, 0.1);
    --border-secondary: rgba(255, 255, 255, 0.15);
    --border-accent: var(--brand-primary);

    /* === CSS COLOR-SCHEME === */
    color-scheme: dark;

    /* === –°–ï–ú–ê–ù–¢–ò–ß–ï–°–ö–ò–ï –¶–í–ï–¢–ê === */
    --semantic-success: #10b981;      --semantic-success-contrast: #ffffff;
    --semantic-warning: #f59e0b;      --semantic-warning-contrast: #0f172a;
    --semantic-error: #ef4444;        --semantic-error-contrast: #ffffff;
    --semantic-info: #3b82f6;         --semantic-info-contrast: #ffffff;

    /* === –¢–ò–ü–û–ì–†–ê–§–ò–ß–ï–°–ö–ê–Ø –°–ò–°–¢–ï–ú–ê === */
    --font-primary: 'Manrope', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    --font-display: 'Manrope', ui-sans-serif, system-ui, -apple-system, sans-serif;
    --font-mono: ui-monospace, 'SF Mono', 'Monaco', 'Cascadia Code', 'Roboto Mono', monospace;

    /* === FLUID SPACING –°–ò–°–¢–ï–ú–ê (–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è) === */
    --space-1: 0.25rem;     /* 4px */
    --space-2: 0.5rem;      /* 8px */
    --space-3: 0.75rem;     /* 12px */
    --space-4: 1rem;        /* 16px */
    --space-6: 1.5rem;      /* 24px */
    --space-8: 2rem;        /* 32px */
    --space-12: 3rem;       /* 48px */
    --space-16: 4rem;       /* 64px */
    --space-20: 5rem;       /* 80px */
    --space-24: 6rem;       /* 96px */
    --space-32: 8rem;       /* 128px */

    /* === –ê–î–ê–ü–¢–ò–í–ù–´–ï SPACING (–ù–æ–≤–æ–µ –≤ v1.0) === */
    --space-fluid-xs: clamp(0.5rem, 2vw, 1rem);
    --space-fluid-sm: clamp(1rem, 4vw, 2rem);
    --space-fluid-md: clamp(2rem, 6vw, 4rem);
    --space-fluid-lg: clamp(3rem, 8vw, 6rem);
    --space-fluid-xl: clamp(4rem, 10vw, 8rem);
    --space-fluid-2xl: clamp(5rem, 12vw, 10rem);

    /* === BORDER RADIUS –°–ò–°–¢–ï–ú–ê === */
    --radius-xs: 0.25rem;
    --radius-sm: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-2xl: 1.5rem;
    --radius-3xl: 2rem;
    --radius-full: 9999px;

    /* === SHADOW –°–ò–°–¢–ï–ú–ê === */
    --shadow-glow: 0 0 20px var(--brand-glow);
    --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.1);
    --shadow-strong: 0 10px 40px rgba(0, 0, 0, 0.2);
    --shadow-float: 0 20px 80px rgba(0, 0, 0, 0.4);
    --shadow-glass: 0 4px 16px rgba(0, 0, 0, 0.08);
    --shadow-glass-strong: 0 8px 24px rgba(0, 0, 0, 0.13);
    --shadow-emotional: 0 8px 32px rgba(98, 71, 234, 0.2);
    --shadow-brand: 0 8px 32px rgba(98, 71, 234, 0.3);

    /* === –ê–ù–ò–ú–ê–¶–ò–ò –ò TIMING === */
    --duration-instant: 100ms;
    --duration-fast: 150ms;
    --duration-normal: 300ms;
    --duration-slow: 600ms;
    --duration-glacial: 1200ms;

    /* === –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–´–ï EASING –§–£–ù–ö–¶–ò–ò === */
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
    --ease-emotion: cubic-bezier(0.34, 1.26, 0.64, 1);
    --ease-comfort: cubic-bezier(0.25, 0.46, 0.45, 0.94);

    /* === –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–´–ï BLUR –≠–§–§–ï–ö–¢–´ === */
    --blur-backdrop: blur(20px) saturate(1.2);
    --blur-light: blur(8px);
    --blur-medium: blur(12px);
    --blur-heavy: blur(20px);
    --blur-ultra: blur(40px);

    /* === SATURATE –ü–ï–†–ï–ú–ï–ù–ù–´–ï === */
    --saturate-subtle: saturate(120%);
    --saturate-normal: saturate(150%);
    --saturate-strong: saturate(180%);

    /* === –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–ê–Ø GLASS –ú–û–†–§–ò–ó–ú –°–ò–°–¢–ï–ú–ê === */
    --glass-surface: rgba(255, 255, 255, 0.1);
    --glass-surface-strong: rgba(255, 255, 255, 0.15);
    --glass-surface-ultra: rgba(255, 255, 255, 0.2);
    --glass-surface-fallback: rgba(255, 255, 255, 0.08);
    --glass-specular-highlight: rgba(255, 255, 255, 0.2);
    --glass-blur: blur(10px);

    /* === Z-INDEX –°–ò–°–¢–ï–ú–ê === */
    --z-below: -1;
    --z-base: 0;
    --z-raised: 10;
    --z-overlay: 100;
    --z-modal: 1000;
    --z-toast: 2000;
    --z-tooltip: 3000;
    
    /* === NSFW/AGE GATE COLORS === */
    --nsfw-warning: #ef4444;
    --nsfw-gradient: linear-gradient(135deg, #ef4444, #dc2626);
    --age-gate-bg: rgba(18, 17, 24, 0.95);
    --age-gate-surface: rgba(255, 255, 255, 0.1);

    /* === –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ HINTS === */
    --will-change-transform: transform;
    --will-change-opacity: opacity;
    --will-change-contents: contents;
    --contain-layout: layout;
    --contain-style: style;
    --contain-paint: paint;
    --contain-size: size;
  }

  /* === –°–í–ï–¢–û–í–ê–Ø –¢–ï–ú–ê (–ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ) === */
  .light {
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --bg-tertiary: #f1f5f9;
    --bg-surface: rgba(98, 71, 234, 0.05);
    --bg-surface-strong: rgba(98, 71, 234, 0.1);
    --bg-muted: #f8fafc;

    --text-primary: #0f172a;
    --text-secondary: #64748b;
    --text-tertiary: rgba(15, 23, 42, 0.6);
    --text-accent: var(--brand-primary);
    --text-muted: #64748b;

    --border-primary: rgba(98, 71, 234, 0.1);
    --border-secondary: rgba(98, 71, 234, 0.15);

    --glass-surface: rgba(255, 255, 255, 0.7);
    --glass-surface-strong: rgba(255, 255, 255, 0.85);
    --glass-surface-ultra: rgba(255, 255, 255, 0.95);
    --glass-specular-highlight: rgba(255, 255, 255, 0.9);

    --shadow-glass: 0 4px 16px rgba(0, 0, 0, 0.08);
    --shadow-glass-strong: 0 8px 24px rgba(0, 0, 0, 0.12);
    --shadow-brand: 0 8px 32px rgba(98, 71, 234, 0.15);

    color-scheme: light;
  }

  /* === –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–´–ï –¢–ï–ú–´ === */
  .theme-romantic {
    --dynamic-primary: var(--primary-mystery);
    --dynamic-secondary: var(--emotion-love);
    --bg-tint: rgba(155, 89, 182, 0.05);
    --emotional-intensity: 1.2;
  }

  .theme-playful {
    --dynamic-primary: var(--primary-joy);
    --dynamic-secondary: var(--emotion-excitement);
    --bg-tint: rgba(243, 156, 18, 0.05);
    --emotional-intensity: 1.5;
  }

  .theme-calm {
    --dynamic-primary: var(--primary-calm);
    --dynamic-secondary: var(--primary-trust);
    --bg-tint: rgba(52, 152, 219, 0.05);
    --emotional-intensity: 0.8;
  }

  .theme-brand {
    --dynamic-primary: var(--brand-primary);
    --dynamic-secondary: var(--primary-trust);
    --bg-tint: rgba(98, 71, 234, 0.05);
    --emotional-intensity: 1.0;
  }

  /* === –ê–î–ê–ü–¢–ò–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò –° –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨–Æ === */
  @media (max-width: 768px) {
    :root {
      /* –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ blur –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
      --glass-blur: blur(6px);
      --blur-heavy: blur(12px);
      --blur-ultra: blur(16px);
      --blur-backdrop: blur(6px) saturate(1.1);
      
      /* –£–º–µ–Ω—å—à–µ–Ω–Ω—ã–µ spacing –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞ */
      --space-8: 1.5rem;
      --space-12: 2rem;
      --space-16: 2.5rem;
      --space-20: 3rem;
      --space-24: 3.5rem;
      --space-32: 4rem;

      /* –ë—ã—Å—Ç—Ä—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ª—É—á—à–µ–π –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç–∏ */
      --duration-normal: 200ms;
      --duration-slow: 400ms;
      --duration-glacial: 800ms;
    }
  }

  @media (min-width: 769px) and (max-width: 1024px) {
    :root {
      --glass-blur: blur(12px);
      --blur-heavy: blur(16px);
      --blur-ultra: blur(20px);
    }
  }

  /* === –£–õ–£–ß–®–ï–ù–ù–ê–Ø –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ –ò ACCESSIBILITY === */
  @media (prefers-reduced-motion: reduce) {
    :root {
      --duration-instant: 1ms;
      --duration-fast: 1ms;
      --duration-normal: 1ms;
      --duration-slow: 1ms;
      --duration-glacial: 1ms;
      
      --blur-backdrop: none;
      --glass-blur: none;
    }

    *, *::before, *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  @media (prefers-reduced-data: reduce) {
    :root {
      --glass-blur: none;
      --blur-backdrop: none;
      --saturate-normal: saturate(100%);
      --saturate-strong: saturate(100%);
    }
  }

  @media (prefers-contrast: high) {
    :root {
      --text-secondary: rgba(255, 255, 255, 0.95);
      --text-tertiary: rgba(255, 255, 255, 0.9);
      --border-primary: rgba(255, 255, 255, 0.3);
      --border-secondary: rgba(255, 255, 255, 0.4);
    }
  }

  /* === FORCED COLORS MODE (Windows High Contrast) === */
  @media (forced-colors: active) {
    :root {
      --bg-primary: Canvas;
      --bg-secondary: Canvas;
      --text-primary: CanvasText;
      --text-secondary: CanvasText;
      --border-primary: ButtonBorder;
      --brand-primary: Highlight;
    }

    .glass-morphism {
      background: ButtonFace !important;
      border: 1px solid ButtonBorder !important;
      backdrop-filter: none !important;
    }
  }

  /* === –°–û–í–†–ï–ú–ï–ù–ù–´–ô CSS RESET === */
  *,
  *::before,
  *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  html {
    font-size: 16px;
    scroll-behavior: smooth;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: var(--bg-primary);
    color: var(--text-primary);
    overscroll-behavior: none;
    
    contain: var(--contain-layout) var(--contain-style) var(--contain-paint);
    content-visibility: auto;
    contain-intrinsic-size: 0 1000px;
  }

  body {
    font-family: var(--font-primary);
    background: linear-gradient(135deg, #0d0c12 0%, #1a1823 50%, #2b2938 100%);
    color: var(--text-primary);
    line-height: 1.6;
    font-feature-settings: 'kern' 1, 'liga' 1, 'cv01' 1, 'cv02' 1, 'cv03' 1;
    text-size-adjust: 100%;
    -webkit-text-size-adjust: 100%;
    overscroll-behavior-y: none;
    
    transition: 
      background-color var(--duration-slow) var(--ease-comfort),
      color var(--duration-slow) var(--ease-comfort);

    will-change: var(--will-change-contents);
  }

  /* === –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–ê–Ø –¢–ò–ü–û–ì–†–ê–§–ò–ö–ê === */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 700;
    line-height: 1.2;
    letter-spacing: -0.02em;
    text-wrap: balance;
    font-display: swap;
    contain: var(--contain-layout) var(--contain-style);

    /* –ù–û–í–û–ï: Modern font features */
    font-optical-sizing: auto;
    font-variation-settings: "wght" 700, "opsz" 14;
  }

  h1 {
    font-size: clamp(2.5rem, 6vw, 4.5rem);
    background: var(--gradient-hero);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    background-size: 200% 200%;
    animation: gradientShift 8s ease-in-out infinite;
  }

  h2 {
    font-size: clamp(2rem, 4vw, 3.5rem);
    background: var(--gradient-brand);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  h3 {
    font-size: clamp(1.5rem, 3vw, 2.5rem);
  }

  h4 {
    font-size: 1.25rem;
    font-weight: 600;
    line-height: 1.3;
  }

  p, li, blockquote, td, th {
    text-wrap: pretty;
    line-height: 1.6;
  }

  /* === FOCUS –°–û–°–¢–û–Ø–ù–ò–Ø === */
  :focus-visible {
    outline: 3px solid var(--brand-primary);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
    transition: outline-color var(--duration-fast) var(--ease-smooth);
  }

  /* === SELECTION === */
  ::selection {
    background: var(--brand-primary);
    color: var(--primary-color-contrast);
    text-shadow: none;
  }

  /* === –°–ö–†–û–õ–õ–ë–ê–† === */
  @supports (scrollbar-width: thin) {
    * {
      scrollbar-width: thin;
      scrollbar-color: var(--glass-surface-strong) var(--glass-surface);
    }
  }

  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--glass-surface);
    border-radius: var(--radius-md);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--brand-surface);
    border-radius: var(--radius-md);
    backdrop-filter: var(--blur-light);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--brand-border);
  }

  /* === –£–õ–£–ß–®–ï–ù–ù–´–ï –ú–ï–î–ò–ê –≠–õ–ï–ú–ï–ù–¢–´ === */
  img, picture, video, canvas, svg {
    display: block;
    max-width: 100%;
    height: auto;
    aspect-ratio: attr(width) / attr(height);
    content-visibility: auto;
    contain: var(--contain-layout) var(--contain-style) var(--contain-paint);
  }

  /* === –§–û–†–ú–´ === */
  button, input, optgroup, select, textarea {
    font-family: inherit;
    font-size: 100%;
    line-height: 1.15;
    margin: 0;
  }

  button, [type="button"], [type="reset"], [type="submit"] {
    -webkit-appearance: button;
    cursor: pointer;
    touch-action: manipulation;
  }
}

/* === LAYER: COMPONENTS === */
@layer components {
  
  /* === FEATURE DETECTION –ò PROGRESSIVE ENHANCEMENT === */
  @supports (backdrop-filter: blur(1px)) {
    .glass-morphism {
      background: var(--glass-surface);
      backdrop-filter: var(--glass-blur);
      -webkit-backdrop-filter: var(--glass-blur);
      border: 1px solid var(--border-secondary);
    }
  }

  @supports not (backdrop-filter: blur(1px)) {
    .glass-morphism {
      background: var(--glass-surface-fallback);
      border: 1px solid var(--border-secondary);
      box-shadow: var(--shadow-glass);
    }
  }

  /* === –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–´–ï –ê–ù–ò–ú–ê–¶–ò–ò === */
  .pulse-button {
    animation: pulse 2s infinite;
    will-change: var(--will-change-transform);
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 0 0 0 var(--brand-glow);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 0 0 20px 10px rgba(98, 71, 234, 0);
    }
  }

  .breathing-animation {
    animation: breathing 4s ease-in-out infinite;
    will-change: var(--will-change-transform);
  }

  @keyframes breathing {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
  }

  /* === –û–ü–¢–ò–ú–ò–ó–ò–†–û–í–ê–ù–ù–´–ï –ö–ù–û–ü–ö–ò === */
  .btn-brand {
    background: var(--gradient-brand);
    border: none;
    padding: var(--space-3) var(--space-6);
    border-radius: var(--radius-lg);
    color: white;
    font-weight: 600;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all var(--duration-normal) var(--ease-smooth);
    position: relative;
    overflow: hidden;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
    box-shadow: var(--shadow-brand);
    
    will-change: var(--will-change-transform);
    contain: var(--contain-layout) var(--contain-paint);
  }

  .btn-brand:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-glow);
  }

  .btn-brand:focus-visible {
    outline: 3px solid var(--brand-primary);
    outline-offset: 2px;
  }

  /* === AGE GATE –ú–û–î–ï–†–ù–ò–ó–ê–¶–ò–Ø === */
  .age-gate {
    position: fixed;
    inset: 0;
    background: var(--age-gate-bg);
    z-index: var(--z-modal);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 1;
    transition: opacity 0.3s ease-in-out;
    contain: var(--contain-layout) var(--contain-style) var(--contain-paint);
  }

  @supports (backdrop-filter: blur(1px)) {
    .age-gate {
      backdrop-filter: var(--glass-blur);
    }
  }

  .age-gate.hidden {
    opacity: 0;
    pointer-events: none;
  }

  .age-gate-modal {
    background: var(--age-gate-surface);
    border: 1px solid var(--border-secondary);
    border-radius: var(--radius-2xl);
    padding: var(--space-8);
    max-width: 28rem;
    margin: var(--space-4);
    transform: scale(0.9);
    transition: transform 0.3s ease-in-out;
    contain: var(--contain-layout) var(--contain-style);
  }

  @supports (backdrop-filter: blur(1px)) {
    .age-gate-modal {
      backdrop-filter: var(--glass-blur);
    }
  }

  .age-gate:not(.hidden) .age-gate-modal {
    transform: scale(1);
  }

  /* === MOBILE MENU –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø === */
  .mobile-menu {
    transform: translateX(100%);
    transition: transform 0.3s ease-in-out;
    background: var(--age-gate-bg);
    border-left: 1px solid var(--border-primary);
    contain: var(--contain-layout) var(--contain-style);
  }

  @supports (backdrop-filter: blur(1px)) {
    .mobile-menu {
      backdrop-filter: var(--blur-heavy);
      -webkit-backdrop-filter: var(--blur-heavy);
    }
  }

  .mobile-menu.open {
    transform: translateX(0);
  }

  .mobile-menu nav {
    background: var(--age-gate-bg);
    border: 1px solid var(--border-primary);
  }

  @supports (backdrop-filter: blur(1px)) {
    .mobile-menu nav {
      backdrop-filter: var(--blur-heavy);
      -webkit-backdrop-filter: var(--blur-heavy);
    }
  }

  .mobile-menu nav a {
    background: var(--glass-surface);
    border-radius: var(--radius-md);
    margin-bottom: var(--space-2);
    padding: var(--space-3) var(--space-4);
    transition: all 0.3s ease;
    border: 1px solid var(--border-primary);
    display: block;
    text-decoration: none;
    color: var(--text-primary);
  }

  .mobile-menu nav a:hover {
    background: var(--brand-surface);
    border-color: var(--brand-border);
    transform: translateX(8px);
  }

  /* === FEATURE CARDS –°–û–í–†–ï–ú–ï–ù–ù–û–°–¢–¨ === */
  .feature-card {
    transition: transform var(--duration-normal) var(--ease-smooth);
    will-change: var(--will-change-transform);
    contain: var(--contain-layout) var(--contain-style);
  }

  .feature-card:hover {
    transform: translateY(-8px);
  }

  .feature-card:hover .feature-icon {
    transform: scale(1.1) rotate(5deg);
  }

  .feature-icon {
    transition: transform var(--duration-normal) var(--ease-smooth);
    will-change: var(--will-change-transform);
  }

  /* === –ì–†–ê–î–ò–ï–ù–¢–ù–´–ï –¢–ï–ö–°–¢–´ === */
  .text-gradient-brand {
    background: var(--gradient-brand);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-emotional {
    background: var(--gradient-emotional);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-trust {
    background: var(--gradient-trust);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-hero {
    background: var(--gradient-hero);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* === CSS CONTAINER QUERIES –ü–û–î–î–ï–†–ñ–ö–ê === */
  @container (min-width: 400px) {
    .card {
      grid-template-columns: 1fr 2fr;
    }
  }

  @container (max-width: 300px) {
    .mobile-optimized {
      --space-4: var(--space-2);
      --glass-blur: none;
    }
  }

  /* === LOADING STATES === */
  .skeleton {
    background: linear-gradient(90deg, 
      var(--glass-surface) 25%, 
      var(--glass-surface-strong) 50%, 
      var(--glass-surface) 75%
    );
    background-size: 200% 100%;
    animation: shimmer 1.5s ease-in-out infinite;
  }

  @keyframes shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
}

/* === LAYER: UTILITIES === */
@layer utilities {
  
  /* === KEYFRAME –ê–ù–ò–ú–ê–¶–ò–ò === */
  @keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  @keyframes emotionalFloat {
    0%, 100% { 
      transform: translate(0, 0) scale(1); 
      opacity: 0.6;
    }
    25% { 
      transform: translate(-30px, -50px) scale(1.1); 
      opacity: 0.8;
    }
    50% { 
      transform: translate(20px, -30px) scale(0.9); 
      opacity: 0.7;
    }
    75% { 
      transform: translate(-20px, 40px) scale(1.05); 
      opacity: 0.9;
    }
  }

  @keyframes sparkle {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes emotionalPulse {
    0%, 100% { box-shadow: 0 0 0 0 var(--brand-glow); }
    50% { box-shadow: 0 0 0 10px rgba(98, 71, 234, 0); }
  }

  /* === –£–¢–ò–õ–ò–¢–´ –ê–ù–ò–ú–ê–¶–ò–ô === */
  .fade-in-up {
    animation: fadeInUp var(--duration-slow) var(--ease-smooth) forwards;
  }

  .emotional-float {
    animation: emotionalFloat 20s ease-in-out infinite;
    will-change: var(--will-change-transform);
  }

  .sparkle-effect::before {
    content: '‚ú®';
    animation: sparkle 2s ease-in-out infinite;
  }

  .emotional-pulse {
    animation: emotionalPulse 1s ease-in-out infinite;
  }

  /* === ACCESSIBILITY UTILITIES === */
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }

  .skip-link {
    position: absolute;
    top: -40px;
    left: 6px;
    background: var(--bg-secondary);
    color: var(--text-primary);
    padding: 8px 16px;
    text-decoration: none;
    border-radius: var(--radius-md);
    transition: top var(--duration-normal) var(--ease-smooth);
    z-index: var(--z-tooltip);
  }

  .skip-link:focus {
    top: 6px;
  }

  /* === –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ UTILITIES === */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
    will-change: var(--will-change-transform);
  }

  .content-visibility-auto {
    content-visibility: auto;
    contain: var(--contain-layout) var(--contain-style) var(--contain-paint);
  }

  @supports not (content-visibility: auto) {
    .content-visibility-auto {
      content-visibility: visible;
    }
  }

  .critical-path {
    contain: layout style paint size;
    content-visibility: auto;
    contain-intrinsic-size: 300px 200px;
  }

  .off-screen {
    content-visibility: hidden;
  }

  .animation-heavy {
    will-change: transform, opacity;
    contain: layout paint;
  }

  /* === RESPONSIVE UTILITIES === */
  @media (max-width: 768px) {
    .mobile-responsive {
      padding: var(--space-4);
    }
    
    .glass-morphism {
      backdrop-filter: var(--blur-light) var(--saturate-subtle);
    }
  }

  /* === –¢–ï–ú–´ === */
  .dark {
    --bg-primary: var(--background-color);
    --bg-secondary: var(--secondary-color);
    --bg-tertiary: var(--accent-color);
    --text-primary: #ffffff;
    --text-secondary: #a29db8;
    --text-tertiary: rgba(255, 255, 255, 0.6);
    color-scheme: dark;
  }

  /* === PRINT –°–¢–ò–õ–ò === */
  @media print {
    .glass-morphism {
      background: #ffffff !important;
      border: 1px solid #cccccc !important;
      backdrop-filter: none !important;
    }

    .text-gradient-brand,
    .text-gradient-emotional,
    .text-gradient-trust,
    .text-gradient-hero {
      -webkit-text-fill-color: initial !important;
      background: none !important;
      color: #000000 !important;
    }

    .animation-heavy,
    .emotional-float,
    .breathing-animation,
    .pulse-button {
      animation: none !important;
      transform: none !important;
    }
  }

  /* === CSS NESTING SUPPORT === */
  @supports (selector(& .nested)) {
    .feature-card {
      transition: transform var(--duration-normal) var(--ease-smooth);
      
      &:hover {
        transform: translateY(-8px);
        
        .feature-icon {
          transform: scale(1.1) rotate(5deg);
        }
      }
    }
  }
}

/* === END OF PRODUCTION OPTIMIZED EIC DESIGN SYSTEM v1.0 === */